'use strict';

var getLocalnetDispenserAccount = require('../localnet/get-localnet-dispenser-account.js');
var isLocalnet = require('../localnet/is-localnet.js');
var types_account = require('../types/account.js');
var getAccount = require('./get-account.js');

/** Returns an account (with private key loaded) that can act as a dispenser
 *
 * If running on LocalNet then it will return the default dispenser account automatically,
 *  otherwise it will load the account mnemonic stored in process.env.DISPENSER_MNEMONIC
 *
 * @param algod An algod client
 * @param kmd A KMD client, if not specified then a default KMD client will be loaded from environment variables
 */
async function getDispenserAccount(algod, kmd) {
    // If we are running against LocalNet we can use the default account within it, otherwise use an automation account specified via environment variables and ensure it's populated with ALGOs
    const canFundFromDefaultAccount = await isLocalnet.isLocalNet(algod);
    return canFundFromDefaultAccount ? await getLocalnetDispenserAccount.getLocalNetDispenserAccount(algod, kmd) : await getAccount.getAccount(types_account.DISPENSER_ACCOUNT, algod);
}

exports.getDispenserAccount = getDispenserAccount;
//# sourceMappingURL=get-dispenser-account.js.map
